<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>npm入门-package.json | Kukiiu Blog</title>
    <meta name="description" content="This is a blog example built by VuePress">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.98a8369e.css" as="style"><link rel="preload" href="/blog/assets/js/app.109f7f5e.js" as="script"><link rel="preload" href="/blog/assets/js/4.46a97fb5.js" as="script"><link rel="preload" href="/blog/assets/js/5.2e68ac0d.js" as="script"><link rel="preload" href="/blog/assets/js/26.8a547a21.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.c3aa2cd3.js"><link rel="prefetch" href="/blog/assets/js/10.95e369df.js"><link rel="prefetch" href="/blog/assets/js/11.85192d52.js"><link rel="prefetch" href="/blog/assets/js/12.991eed33.js"><link rel="prefetch" href="/blog/assets/js/13.2431ca26.js"><link rel="prefetch" href="/blog/assets/js/14.654609fb.js"><link rel="prefetch" href="/blog/assets/js/15.39e69815.js"><link rel="prefetch" href="/blog/assets/js/16.65db32f5.js"><link rel="prefetch" href="/blog/assets/js/17.cfffb51f.js"><link rel="prefetch" href="/blog/assets/js/18.cd9829f6.js"><link rel="prefetch" href="/blog/assets/js/19.900ca075.js"><link rel="prefetch" href="/blog/assets/js/20.746c162a.js"><link rel="prefetch" href="/blog/assets/js/21.a54ef64b.js"><link rel="prefetch" href="/blog/assets/js/22.5660eb8e.js"><link rel="prefetch" href="/blog/assets/js/23.fc219947.js"><link rel="prefetch" href="/blog/assets/js/24.ca931382.js"><link rel="prefetch" href="/blog/assets/js/25.ea56a589.js"><link rel="prefetch" href="/blog/assets/js/27.5b14e157.js"><link rel="prefetch" href="/blog/assets/js/28.32d557d5.js"><link rel="prefetch" href="/blog/assets/js/29.a7808df1.js"><link rel="prefetch" href="/blog/assets/js/30.4d84f1c7.js"><link rel="prefetch" href="/blog/assets/js/6.1ae99955.js"><link rel="prefetch" href="/blog/assets/js/7.0891d004.js"><link rel="prefetch" href="/blog/assets/js/8.ee738a46.js"><link rel="prefetch" href="/blog/assets/js/9.dd98dc71.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.14c0cfca.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.98a8369e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">Kukiiu Blog
        </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">Kukiiu Blog
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="npm入门-package-json"><a href="#npm入门-package-json" class="header-anchor">#</a> npm入门-package.json</h1> <h1 id="为什么要有package-json"><a href="#为什么要有package-json" class="header-anchor">#</a> 为什么要有package.json</h1> <blockquote><p>The best way to manage locally installed npm packages is to create a package.json file.</p></blockquote> <p>package.json文件可以做到：</p> <ul><li>描述项目依赖的三方包及相应版本</li> <li>让其他开发者快速构建本项目依赖环境</li></ul> <h1 id="构建项目"><a href="#构建项目" class="header-anchor">#</a> 构建项目</h1> <h2 id="第一步：初始化项目"><a href="#第一步：初始化项目" class="header-anchor">#</a> 第一步：初始化项目</h2> <p>执行 npm init 命令后会在当前目录下新建package.json文件</p> <div class="language-shell extra-class"><pre class="language-text"><code># 初始化项目
$ npm init
# 使用默认配置初始化项目
$ npm init --yes
</code></pre></div><p><img src="/qn/content/FpoQYEiiZF-pZOEPzzlrt4-LCnzV" alt="e6299a7af554a46bcf3b7a7a93e7254.png">
一个package.json必须包含&quot;name&quot;和&quot;version&quot;属性</p> <h2 id="第二步：引入项目依赖三方包"><a href="#第二步：引入项目依赖三方包" class="header-anchor">#</a> 第二步：引入项目依赖三方包</h2> <div class="language-shell extra-class"><pre class="language-text"><code># 引入jquery
$ npm install jquery
</code></pre></div><p>运行成功后，可以看到package.json中多了一项dependencies属性，该属性描述了发布环境中项目所依赖的第三方包
当项目所依赖的第三方包多了，node_modules目录也会变得很庞大，有了package.json给其他开发者使用或项目发布时就不需要上传node_modules，可以通过npm install命令让npm根据package.json的配置自动安装好项目依赖</p> <h1 id="开发依赖-vs-发布依赖"><a href="#开发依赖-vs-发布依赖" class="header-anchor">#</a> 开发依赖 vs 发布依赖</h1> <h3 id="为什么要区分"><a href="#为什么要区分" class="header-anchor">#</a> 为什么要区分</h3> <p>前面在安装第三方包时，直接使用了 npm install &lt;package_name&gt;，效果是在当前目录下的node_module/下成功下载了所需的依赖，并在package.json的dependencies中添加了这个包。但是有时候我们所依赖的包仅在开发或测试时候才会用到，并不想在发布时候也一并安装，例如测试相关包或编译转换相关的包等，此时我们就可以用到devDependencies这个属性：</p> <div class="language-shell extra-class"><pre class="language-text"><code># 这个包将在开发和发布都用到
$ npm install &lt;package_name&gt; --save
# 这个包仅在发布用到
$ npm install &lt;package_name&gt; --save-dev
</code></pre></div><h3 id="实践使用babel"><a href="#实践使用babel" class="header-anchor">#</a> 实践使用babel</h3> <p>目前大多数浏览器对es6语法支持不够，如果要使用es6语法，就需将其转换为浏览器支持更好的es5语法，<a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">babel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>可以做到，但是我们一般仅在开发时用es6语法，项目上线会将其用babel打包成es5语法的js，所以，babel依赖仅应该存在于devDependencies中</p> <ul><li>安装babel开发依赖 和 jquery生产依赖</li></ul> <div class="language-shell extra-class"><pre class="language-text"><code># 安装babel命令行工具和编译工具
$ npm install --save-dev babel-cli babel-preset-env
# 安装jquery
$ npm install jquery
</code></pre></div><ul><li>在当前目录新建babel配置，一个.babelrc文件</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>在当前目录新建一个main.js</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>运行babel转换器，将main.js转换成浏览器可运行的es5语法到dist/目录下的main.js</li></ul> <div class="language-shell extra-class"><pre class="language-text"><code># 执行转换编译
$ .\node_modules\.bin\babel .\main.js -d dist
</code></pre></div><ul><li>执行后dist/下的main.js为浏览器可兼容的js</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="可以看到安装完成后，package-json中会包括"><a href="#可以看到安装完成后，package-json中会包括" class="header-anchor">#</a> 可以看到安装完成后，package.json中会包括</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;babel-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;babel-preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.7.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="将package-json复制到另外两个目录，分别执行"><a href="#将package-json复制到另外两个目录，分别执行" class="header-anchor">#</a> 将package.json复制到另外两个目录，分别执行</h3> <div class="language-shell extra-class"><pre class="language-text"><code># 安装所有依赖
$ npm install
# 仅安装dependencies依赖
$ npm install --production
</code></pre></div><p>可在node_module/下看到npm会自动区分需要下载安装的依赖</p> <h1 id="参数描述"><a href="#参数描述" class="header-anchor">#</a> 参数描述</h1> <ul><li>name: 项目名，必须小写，不含空格，单词间用“-”或“_”分割</li> <li>version: 项目版本，格式为x.x.x，遵循<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">语义化版本控制规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>description：项目描述</li></ul> <blockquote><p>If there is no description field in the package.json, npm uses the first line of the README.md or README instead. The description helps people find your package when searching npm, so it's definitely useful to make a custom description in the package.json to make your package easier to find.</p></blockquote> <ul><li>main: 默认启动js文件</li> <li>scripts：npm script 命令</li> <li>keywords: 项目关键字，数组</li> <li>author: 项目作者</li> <li>license: 项目协议</li> <li>bugs: 项目issuse及bug页</li> <li>homepage: 项目主页</li> <li>dependencies: 发布环境下项目依赖包</li> <li>devDependencies: 开发/测试环境下项目依赖包</li></ul> <h1 id="清单例子"><a href="#清单例子" class="header-anchor">#</a> 清单例子</h1> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;babel-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;babel-preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.7.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h1 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h1> <p><a href="https://www.npmjs.com.cn/files/package.json/" target="_blank" rel="noopener noreferrer">package.json详细介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">语义化版本控制规范<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#第一步：初始化项目" title="第一步：初始化项目">第一步：初始化项目</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#第二步：引入项目依赖三方包" title="第二步：引入项目依赖三方包">第二步：引入项目依赖三方包</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#为什么要区分" title="为什么要区分">为什么要区分</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#实践使用babel" title="实践使用babel">实践使用babel</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#可以看到安装完成后，package-json中会包括" title="可以看到安装完成后，package.json中会包括">可以看到安装完成后，package.json中会包括</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#将package-json复制到另外两个目录，分别执行" title="将package.json复制到另外两个目录，分别执行">将package.json复制到另外两个目录，分别执行</a></div></div></div></div> <footer class="footer" data-v-0d113134><div class="footer-left-wrap" data-v-0d113134><ul class="contact" data-v-0d113134><li class="contact-item" data-v-0d113134><a href="https://github.com/kukiiu" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-0d113134><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-0d113134></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-0d113134><ul class="copyright" data-v-0d113134><li class="copyright-item" data-v-0d113134><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134>Privacy Policy</a></li><li class="copyright-item" data-v-0d113134><a href="/blog/2018/11/07/npm%E5%85%A5%E9%97%A8-package-json/.html" class="nav-link" data-v-0d113134>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.109f7f5e.js" defer></script><script src="/blog/assets/js/4.46a97fb5.js" defer></script><script src="/blog/assets/js/5.2e68ac0d.js" defer></script><script src="/blog/assets/js/26.8a547a21.js" defer></script>
  </body>
</html>
